(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-217b05fe"],{a58e:function(t,e,s){"use strict";s("f977")},bb51:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"category"}},[s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],nativeOn:{click:function(e){return t.backTopClick.apply(null,arguments)}}}),s("nav-bar",{staticClass:"nav-bar"},[s("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])]),s("div",{staticClass:"cateBox"},[s("div",{staticClass:"cateType"},[s("ul",t._l(t.typeList,(function(e,o){return s("li",{key:o,class:{active:t.nowIndex==o},on:{click:function(s){return t.typeClick(o,e.maitKey,e.miniWallkey)}}},[t._v(" "+t._s(e.title)+" ")])})),0)]),s("scroll",{ref:"scroll",staticClass:"goods-content",attrs:{"probe-type":3,pullUpLoad:!0},on:{scroll:t.contentScroll}},[s("div",{staticClass:"goods-type"},t._l(t.subCateList,(function(e,o){return s("div",{key:o,staticClass:"good-type-item"},[s("img",{attrs:{src:e.image,alt:""}}),s("span",{staticClass:"small"},[t._v(t._s(e.title))])])})),0),s("goods-list",{attrs:{goods:t.goodsList}})],1)],1)],1)},a=[],n=s("a7ac"),i=s("5d17"),c=s("fdd6"),l=s("6d71"),r=s("1bab");function u(){return Object(r["a"])({url:"/category"})}function d(t){return Object(r["a"])({url:"/subcategory",params:{maitKey:t}})}function f(t){return Object(r["a"])({url:"/subcategory/detail",params:{miniWallkey:t}})}var y={components:{NavBar:n["a"],GoodsList:l["a"],Scroll:i["a"],BackTop:c["a"]},name:"Category",data:function(){return{typeList:[],nowIndex:0,subCateList:[],goodsList:[],isShow:"false"}},mounted:function(){var t=this;u().then((function(e){return t.typeList=e.data.category.list})).then((function(e){t.getSubcategory(t.typeList[t.nowIndex].maitKey),t.getCategoryDetail(t.typeList[t.nowIndex].miniWallkey),t.$refs.scroll.scroll.refresh()}))},methods:{typeClick:function(t,e,s){console.log(t,e,s),this.nowIndex=t,this.getSubcategory(e),this.getCategoryDetail(s),this.$refs.scroll.scroll.scrollTo(0,0,0)},getSubcategory:function(t){var e=this;d(t).then((function(t){e.subCateList=t.data.list}))},getCategoryDetail:function(t){var e=this;f(t).then((function(t){e.goodsList=t}))},backTopClick:function(){this.$refs.scroll.scroll.scrollTo(0,0,500)},contentScroll:function(t){console.log(t),t.y<-1200?this.isShow=!0:this.isShow=!1}}},p=y,g=(s("a58e"),s("2877")),h=Object(g["a"])(p,o,a,!1,null,"12a46490",null);e["default"]=h.exports},f977:function(t,e,s){}}]);
//# sourceMappingURL=chunk-217b05fe.c9f577eb.js.map