(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e2d1069"],{"064a":function(t,e,n){"use strict";n("663a")},"09fc":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slide"},[t._t("default")],2)},i=[],s={name:"Slide"},o=s,a=(n("5087e"),n("2877")),c=Object(a["a"])(o,r,i,!1,null,null,null);e["a"]=c.exports},1388:function(t,e,n){},"14a5":function(t,e,n){},"25f0":function(t,e,n){"use strict";var r=n("e330"),i=n("5e77").PROPER,s=n("6eeb"),o=n("825a"),a=n("3a9b"),c=n("577e"),l=n("d039"),u=n("ad6d"),f="toString",d=RegExp.prototype,h=d[f],p=r(u),m=l((function(){return"/a/b"!=h.call({source:"a",flags:"b"})})),b=i&&h.name!=f;(m||b)&&s(RegExp.prototype,f,(function(){var t=o(this),e=c(t.source),n=t.flags,r=c(void 0===n&&a(d,t)&&!("flags"in d)?p(t):n);return"/"+e+"/"+r}),{unsafe:!0})},"284a":function(t,e,n){"use strict";n("14a5")},"2c3e":function(t,e,n){var r=n("da84"),i=n("83ab"),s=n("9f7f").MISSED_STICKY,o=n("c6b6"),a=n("9bf2").f,c=n("69f3").get,l=RegExp.prototype,u=r.TypeError;i&&s&&a(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===o(this))return!!c(this).sticky;throw u("Incompatible receiver, RegExp required")}}})},"4d63":function(t,e,n){var r=n("83ab"),i=n("da84"),s=n("e330"),o=n("94ca"),a=n("7156"),c=n("9112"),l=n("9bf2").f,u=n("241c").f,f=n("3a9b"),d=n("44e7"),h=n("577e"),p=n("ad6d"),m=n("9f7f"),b=n("6eeb"),g=n("d039"),v=n("1a2d"),w=n("69f3").enforce,y=n("2626"),x=n("b622"),T=n("fce3"),C=n("107c"),k=x("match"),I=i.RegExp,E=I.prototype,_=i.SyntaxError,S=s(p),R=s(E.exec),$=s("".charAt),O=s("".replace),j=s("".indexOf),D=s("".slice),A=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,W=/a/g,B=new I(M)!==M,H=m.MISSED_STICKY,N=m.UNSUPPORTED_Y,F=r&&(!B||H||T||C||g((function(){return W[k]=!1,I(M)!=M||I(W)==W||"/a/i"!=I(M,"i")}))),P=function(t){for(var e,n=t.length,r=0,i="",s=!1;r<=n;r++)e=$(t,r),"\\"!==e?s||"."!==e?("["===e?s=!0:"]"===e&&(s=!1),i+=e):i+="[\\s\\S]":i+=e+$(t,++r);return i},X=function(t){for(var e,n=t.length,r=0,i="",s=[],o={},a=!1,c=!1,l=0,u="";r<=n;r++){if(e=$(t,r),"\\"===e)e+=$(t,++r);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:R(A,D(t,r+1))&&(r+=2,c=!0),i+=e,l++;continue;case">"===e&&c:if(""===u||v(o,u))throw new _("Invalid capture group name");o[u]=!0,s[s.length]=[u,l],c=!1,u="";continue}c?u+=e:i+=e}return[i,s]};if(o("RegExp",F)){for(var U=function(t,e){var n,r,i,s,o,l,u=f(E,this),p=d(t),m=void 0===e,b=[],g=t;if(!u&&p&&m&&t.constructor===U)return t;if((p||f(E,t))&&(t=t.source,m&&(e="flags"in g?g.flags:S(g))),t=void 0===t?"":h(t),e=void 0===e?"":h(e),g=t,T&&"dotAll"in M&&(r=!!e&&j(e,"s")>-1,r&&(e=O(e,/s/g,""))),n=e,H&&"sticky"in M&&(i=!!e&&j(e,"y")>-1,i&&N&&(e=O(e,/y/g,""))),C&&(s=X(t),t=s[0],b=s[1]),o=a(I(t,e),u?this:E,U),(r||i||b.length)&&(l=w(o),r&&(l.dotAll=!0,l.raw=U(P(t),n)),i&&(l.sticky=!0),b.length&&(l.groups=b)),t!==g)try{c(o,"source",""===g?"(?:)":g)}catch(v){}return o},V=function(t){t in U||l(U,t,{configurable:!0,get:function(){return I[t]},set:function(e){I[t]=e}})},Y=u(I),q=0;Y.length>q;)V(Y[q++]);E.constructor=U,U.prototype=E,b(i,"RegExp",U)}y("RegExp")},"4e7c":function(t,e,n){"use strict";n("99bb")},"5087e":function(t,e,n){"use strict";n("f461")},"663a":function(t,e,n){},"80f4":function(t,e,n){"use strict";n("1388")},"90b9":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));n("ac1f"),n("00b4"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("25f0");function r(t,e){var n=null;return function(){for(var r=this,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){t.apply(r,s)}),e)}}function i(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var r in n)if(new RegExp("(".concat(r,")")).test(e)){var i=n[r]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?i:s(i))}return e}function s(t){return("00"+t).substr(t.length)}},"99bb":function(t,e,n){},ace8:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"hy-swiper"}},[n("div",{staticClass:"swiper",on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[t._t("default")],2),t._t("indicator"),n("div",{staticClass:"indicator"},[t.showIndicator&&t.slideCount>1?t._t("indicator",(function(){return t._l(t.slideCount,(function(e,r){return n("div",{key:r.id,staticClass:"indi-item",class:{active:r===t.currentIndex-1}})}))})):t._e()],2)],2)},i=[],s=(n("a9e3"),{name:"Swiper",props:{interval:{type:Number,default:3e3},animDuration:{type:Number,default:300},moveRatio:{type:Number,default:.25},showIndicator:{type:Boolean,default:!0}},data:function(){return{slideCount:0,totalWidth:0,swiperStyle:{},currentIndex:1,scrolling:!1}},mounted:function(){var t=this;setTimeout((function(){t.handleDom(),t.startTimer()}),200)},methods:{startTimer:function(){var t=this;this.playTimer=window.setInterval((function(){t.currentIndex++,t.scrollContent(-t.currentIndex*t.totalWidth)}),this.interval)},stopTimer:function(){window.clearInterval(this.playTimer)},scrollContent:function(t){this.scrolling=!0,this.swiperStyle.transition="transform "+this.animDuration+"ms",this.setTransform(t),this.checkPosition(),this.scrolling=!1},checkPosition:function(){var t=this;window.setTimeout((function(){t.swiperStyle.transition="0ms",t.currentIndex>=t.slideCount+1?(t.currentIndex=1,t.setTransform(-t.currentIndex*t.totalWidth)):t.currentIndex<=0&&(t.currentIndex=t.slideCount,t.setTransform(-t.currentIndex*t.totalWidth)),t.$emit("transitionEnd",t.currentIndex-1)}),this.animDuration)},setTransform:function(t){this.swiperStyle.transform="translate3d(".concat(t,"px, 0, 0)"),this.swiperStyle["-webkit-transform"]="translate3d(".concat(t,"px), 0, 0"),this.swiperStyle["-ms-transform"]="translate3d(".concat(t,"px), 0, 0")},handleDom:function(){var t=document.querySelector(".swiper"),e=t.getElementsByClassName("slide");if(this.slideCount=e.length,this.slideCount>1){var n=e[0].cloneNode(!0),r=e[this.slideCount-1].cloneNode(!0);t.insertBefore(r,e[0]),t.appendChild(n),this.totalWidth=t.offsetWidth,this.swiperStyle=t.style}this.setTransform(-this.totalWidth)},touchStart:function(t){this.scrolling||(this.stopTimer(),this.startX=t.touches[0].pageX)},touchMove:function(t){this.currentX=t.touches[0].pageX,this.distance=this.currentX-this.startX;var e=-this.currentIndex*this.totalWidth,n=this.distance+e;this.setTransform(n)},touchEnd:function(t){var e=Math.abs(this.distance);0!==this.distance&&(this.distance>0&&e>this.totalWidth*this.moveRatio?this.currentIndex--:this.distance<0&&e>this.totalWidth*this.moveRatio&&this.currentIndex++,this.scrollContent(-this.currentIndex*this.totalWidth),this.startTimer())},previous:function(){this.changeItem(-1)},next:function(){this.changeItem(1)},changeItem:function(t){this.stopTimer(),this.currentIndex+=t,this.scrollContent(-this.currentIndex*this.totalWidth),this.startTimer()}}}),o=s,a=(n("d534"),n("2877")),c=Object(a["a"])(o,r,i,!1,null,"0aa1b948",null);e["a"]=c.exports},b0ef:function(t,e,n){t.exports=n.p+"img/recommend_bg.794b6628.jpg"},b3d7:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper",attrs:{id:"home"}},[n("nav-bar",{staticClass:"home-nav"},[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),n("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTabFixed,expression:"isTabFixed"}],ref:"tabControlFack",attrs:{titles:["流行","新款","精选"]},on:{itemClick:t.itemClick}}),n("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3,"pull-up-load":!0},on:{scroll:t.contentScroll,pullingUp:t.loadMore}},[n("home-swiper",{attrs:{banners:t.banners}}),n("recommend-view",{attrs:{recommends:t.recommends}}),n("feature-view"),n("tab-control",{ref:"tabControl",attrs:{titles:["流行","新款","精选"]},on:{itemClick:t.itemClick}}),n("goods-list",{attrs:{goods:t.goods[t.currentType].list}})],1),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.showBackTop,expression:"showBackTop"}],nativeOn:{click:function(e){return t.backTopClick.apply(null,arguments)}}})],1)},i=[],s=n("6b75");function o(t){if(Array.isArray(t))return Object(s["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var c=n("06c5");n("d9e2");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return o(t)||a(t)||Object(c["a"])(t)||l()}var f=n("a7ac"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("swiper",t._l(t.banners,(function(t,e){return n("swiper-item",{key:e},[n("a",{attrs:{href:t.link}},[n("img",{attrs:{src:t.image,alt:""}})])])})),1)},h=[],p=n("ace8"),m=n("09fc"),b={name:"HomeSwiper",props:{banners:{type:Array,default:function(){return[]}}},components:{Swiper:p["a"],SwiperItem:m["a"]}},g=b,v=n("2877"),w=Object(v["a"])(g,d,h,!1,null,null,null),y=w.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},t._l(t.recommends,(function(e,r){return n("div",{key:r,staticClass:"recommend-item"},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image,alt:""}}),n("div",[t._v(t._s(e.title))])])])})),0)},T=[],C={name:"RecommendView",props:{recommends:{type:Array,default:function(){return[]}}}},k=C,I=(n("80f4"),Object(v["a"])(k,x,T,!1,null,null,null)),E=I.exports,_=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"feature"},[r("a",{attrs:{href:"https://act.mogujie.com/zzlx67"}},[r("img",{attrs:{src:n("b0ef"),alt:""}})])])}],R={name:"FeatureView"},$=R,O=(n("064a"),Object(v["a"])($,_,S,!1,null,null,null)),j=O.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,r){return n("div",{key:e,staticClass:"tab-control-item",class:{pinkactive:r===t.currentIndex},on:{click:function(e){return t.itemClick(r)}}},[n("span",[t._v(t._s(e))])])})),0)},A=[],M={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("itemClick",t)}}},W=M,B=(n("4e7c"),Object(v["a"])(W,D,A,!1,null,null,null)),H=B.exports,N=n("6d71"),F=n("1bab");function P(){return Object(F["a"])({url:"/home/multidata"})}function X(t,e){return Object(F["a"])({url:"/home/data",params:{type:t,page:e}})}var U=n("5d17"),V=n("fdd6"),Y=n("90b9"),q={name:"Home",components:{NavBar:f["a"],HomeSwiper:y,RecommendView:E,FeatureView:j,TabControl:H,GoodsList:N["a"],Scroll:U["a"],BackTop:V["a"]},data:function(){return{banners:[],recommends:[],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},currentType:"pop",showBackTop:"false",tabOffsetTop:0,isTabFixed:!1}},created:function(){this.getHomeMultidata(),this.getHomeTabData("pop"),this.getHomeTabData("new"),this.getHomeTabData("sell"),this.showBackTop=!1},mounted:function(){var t=this,e=Object(Y["a"])(this.$refs.scroll.refresh,500);this.$bus.$on("homeItemImageLoad",(function(){console.log("首页图片加载完成"),e()})),setTimeout((function(){t.tabOffsetTop=t.$refs.tabControl.$el.offsetTop}),1e3)},methods:{getHomeMultidata:function(){var t=this;P().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list}))},getHomeTabData:function(t){var e=this,n=this.goods[t].page+1;X(t,n).then((function(n){var r;console.log(n.data.list),(r=e.goods[t].list).push.apply(r,u(n.data.list)),e.goods[t].page+=1,e.$refs.scroll.scroll.finishPullUp()}))},itemClick:function(t){switch(t){case 0:this.currentType="pop";break;case 1:this.currentType="new";break;case 2:this.currentType="sell"}this.$refs.tabControlFack.currentIndex=t,this.$refs.tabControl.currentIndex=t},backTopClick:function(){this.$refs.scroll.scrollTo(0,0,500)},contentScroll:function(t){t.y<-666?this.showBackTop=!0:this.showBackTop=!1,this.isTabFixed=-t.y>this.tabOffsetTop},loadMore:function(){this.getHomeTabData(this.currentType),console.log(this.$refs.scroll.scroll),this.$refs.scroll.scroll.refresh()}}},z=q,J=(n("284a"),Object(v["a"])(z,r,i,!1,null,"234510fe",null));e["default"]=J.exports},c607:function(t,e,n){var r=n("da84"),i=n("83ab"),s=n("fce3"),o=n("c6b6"),a=n("9bf2").f,c=n("69f3").get,l=RegExp.prototype,u=r.TypeError;i&&s&&a(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===o(this))return!!c(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},c634:function(t,e,n){},d534:function(t,e,n){"use strict";n("c634")},f461:function(t,e,n){}}]);
//# sourceMappingURL=chunk-5e2d1069.89a68b6f.js.map